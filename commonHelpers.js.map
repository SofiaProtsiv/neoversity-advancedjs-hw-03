{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\naxios.defaults.headers.common[\"x-api-key\"] =\n  \"live_LecpBk7SVprhXxB2yI8Z1svYT6H901SLdzwzjjw4NXEc2SRd8du2kJN22UTCoL4o\";\n\nexport async function fetchBreeds() {\n  const response = await axios\n    .get(\"https://api.thecatapi.com/v1/breeds\")\n\n  return response.data;\n}\n\nexport async function fetchCatByBreed(breedId) {\n  const response = await axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n\n  return response.data;\n}\n","import SlimSelect from 'slim-select';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchBreeds, fetchCatByBreed } from './js/api.js';\n\nconst selectEl = document.querySelector(\"#selectElement\");\nconst breedDetailsEl = document.querySelector(\".content\");\nconst loader = document.querySelector('.loader');\n\nfunction showError(message) {\n  iziToast.show({\n    title: 'Error',\n    message: `❌ Oops! ${message}`,\n    position: 'topRight',\n    color: 'red',\n  });\n}\n\nfunction showLoader() {\n  loader.style.display = \"flex\";\n}\n\nfunction hideLoader() {\n  loader.style.display = \"none\";\n}\n\nasync function initializeSelect() {\n  showLoader();\n  try {\n    const data = await fetchBreeds();\n\n    const options = data.map((breed) => ({ text: breed.name, value: breed.id }));\n\n    const select = new SlimSelect({\n      select: '#selectElement',\n    });\n\n    hideLoader();\n    select.setData([{ placeholder: true, text: '' }, ...options]);\n    selectEl.addEventListener('change', handleBreedSelect);\n  } catch (error) {\n    showError(error.message);\n  }\n}\n\nasync function handleBreedSelect() {\n  showLoader();\n  breedDetailsEl.innerHTML = \"\"\n  try {\n    const data = await fetchCatByBreed(selectEl.value);\n\n    if (!data[0].breeds.length) {\n      throw new Error(\"Something went wrong\");\n    }\n\n    hideLoader();\n    createBreedDetailsMarkup(data);\n  } catch (error) {\n    showError(error.message);\n  }\n}\n\nfunction createBreedDetailsMarkup(data) {\n  const img = data[0].url\n  const { name, description, temperament, origin, country_code } = data[0].breeds[0]\n\n  breedDetailsEl.innerHTML = `\n    <div class=\"content__wrapper\">\n      <img class=\"content__img\" src=\"${img}\" alt=\"${name}\"/>\n      <div class=\"content__info\">\n        <h2 class=\"info__title\">${name}</h2>\n        <p><b class=\"info__text\">Description:</b> ${description}</p>\n        <p><b class=\"info__text\">Temperament:</b> ${temperament}</p>\n        <p><b class=\"info__text\">Country:</b> ${origin}</p>\n        <img class=\"info__flag\" src=\"https://flagsapi.com/${country_code}/shiny/64.png\" alt=\"Country code\"> \n      </div>\n    </div>\n  `;\n}\n\ninitializeSelect();\n"],"names":["axios","fetchBreeds","fetchCatByBreed","breedId","selectEl","breedDetailsEl","loader","showError","message","iziToast","showLoader","hideLoader","initializeSelect","options","breed","select","SlimSelect","handleBreedSelect","error","data","createBreedDetailsMarkup","img","name","description","temperament","origin","country_code"],"mappings":"owBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,eAAeC,GAAc,CAIlC,OAHiB,MAAMD,EACpB,IAAI,qCAAqC,GAE5B,IAClB,CAEO,eAAeE,EAAgBC,EAAS,CAI7C,OAHiB,MAAMH,EACpB,IAAI,wDAAwDG,GAAS,GAExD,IAClB,CCZA,MAAMC,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAiB,SAAS,cAAc,UAAU,EAClDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAUC,EAAS,CAC1BC,EAAS,KAAK,CACZ,MAAO,QACP,QAAS,WAAWD,IACpB,SAAU,WACV,MAAO,KACX,CAAG,CACH,CAEA,SAASE,GAAa,CACpBJ,EAAO,MAAM,QAAU,MACzB,CAEA,SAASK,GAAa,CACpBL,EAAO,MAAM,QAAU,MACzB,CAEA,eAAeM,GAAmB,CAChCF,IACA,GAAI,CAGF,MAAMG,GAFO,MAAMZ,KAEE,IAAKa,IAAW,CAAE,KAAMA,EAAM,KAAM,MAAOA,EAAM,EAAE,EAAG,EAErEC,EAAS,IAAIC,EAAW,CAC5B,OAAQ,gBACd,CAAK,EAEDL,IACAI,EAAO,QAAQ,CAAC,CAAE,YAAa,GAAM,KAAM,EAAI,EAAE,GAAGF,CAAO,CAAC,EAC5DT,EAAS,iBAAiB,SAAUa,CAAiB,CACtD,OAAQC,EAAP,CACAX,EAAUW,EAAM,OAAO,CACxB,CACH,CAEA,eAAeD,GAAoB,CACjCP,IACAL,EAAe,UAAY,GAC3B,GAAI,CACF,MAAMc,EAAO,MAAMjB,EAAgBE,EAAS,KAAK,EAEjD,GAAI,CAACe,EAAK,GAAG,OAAO,OAClB,MAAM,IAAI,MAAM,sBAAsB,EAGxCR,IACAS,EAAyBD,CAAI,CAC9B,OAAQD,EAAP,CACAX,EAAUW,EAAM,OAAO,CACxB,CACH,CAEA,SAASE,EAAyBD,EAAM,CACtC,MAAME,EAAMF,EAAK,GAAG,IACd,CAAE,KAAAG,EAAM,YAAAC,EAAa,YAAAC,EAAa,OAAAC,EAAQ,aAAAC,CAAc,EAAGP,EAAK,GAAG,OAAO,GAEhFd,EAAe,UAAY;AAAA;AAAA,uCAEUgB,WAAaC;AAAA;AAAA,kCAElBA;AAAA,oDACkBC;AAAA,oDACAC;AAAA,gDACJC;AAAA,4DACYC;AAAA;AAAA;AAAA,GAI5D,CAEAd,EAAkB"}